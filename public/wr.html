<html>
	<head>
    	<link href="css/style.css" rel="stylesheet" type="text/css">
		<title>Index</title>
	</head>
	
	<body>
	
 		<!-- Send Message frame. A textbox and a send button. 
		<div class="msgframe">
			<div class="msghead"><strong>Broadcast message</strong></div>
			<div class="msgcontent">
				<input data-bind="value: msgToSend" /><button data-bind="click: wsTest">Send</button>
				<button data-bind="click: wsTestData">Test data</button>
			</div>
		</div>
		
		-->
		<!-- Result list: A table -->
		 
<h1>Web retrieval</h1>

		<div class="msgframe">
			<div class="msghead"><strong>Query results</strong></div>
<div>
<table>
    <thead>
        <tr  data-bind="foreach: columnNames">
            <th class="reshead"> <span data-bind="text: $data.colname">ho.. Error!</span>

            </th>
        </tr>
    </thead>
    <tbody data-bind="foreach: items">
        <tr class="resrow" data-bind="foreach: $parent.columnNames">
            <td class="rescell" data-bind="text: $parent[$data.colname]"></td>
        </tr>
    </tbody>
</table>
</div>
		</div>
		
	</body>

</html>


<!--Include JavaScripts for JQuery and Knockout.js <-->
<script type='text/javascript', src='http://ajax.googleapis.com/ajax/libs/jquery/1.2.6/jquery.js'></script>
<script type='text/javascript', src='http://cdnjs.cloudflare.com/ajax/libs/knockout/3.1.0/knockout-min.js'></script>

<script type="text/javascript">
	
        // Here's my data model
        var viewModel = function () {


		var self=this;

            	self.items=ko.observableArray();
		self.columnNames = ko.computed(function() {
			if (self.items().length === 0)
            			return [];
        		var props = [];
        		var obj = self.items()[0];
        		for (var name in obj)
            			props.push({'colname':name, 'coltype':'string'});
        		return props;
  
  		});


		self.populate = function() {
			self.items.push({'Portfolio': '1001001','Pseudonym': 'LUNA', 'DocumentType':'Form A','Signed':'02.04.2014', 'Scanned':'03.04.2014', 'RunNr':'3454'});
			 self.items.push({'Portfolio': '1001001','Pseudonym': 'LUNA', 'DocumentType':'Procuration','Signed':'03.04.2014', 'Scanned':'04.04.2014', 'RunNr':'5012'});
			 self.items.push({'Portfolio': '1001001','Pseudonym': 'LUNA', 'DocumentType':'Non-US Disclosure','Signed':'03.04.2014', 'Scanned':'04.04.2014', 'RunNr':'3654'});
			 self.items.push({'Portfolio': '1001001','Pseudonym': 'LUNA', 'DocumentType':'E-Banking contract','Signed':'04.04.2014', 'Scanned':'05.04.2014', 'RunNr':'5097'});
						
			// self.items.push({'Artist': 'Brahms','Album': 'Klavierkonzert 1', 'DocumentType':'MP3'});
			// self.items.push({'Artist': 'Wagner','Album': 'Die Walk√ºrie', 'DocumentType':'CD'});
			// self.items.push({'Artist': 'Portishead','Album': 'Dummy', 'DocumentType':'WAV'});
	
		};		

		
        };
	
	var vm = new viewModel();
			
        ko.applyBindings(vm); // This makes Knockout get to work
	
	vm.populate();
		
 </script>
 
